(this["webpackJsonpaudio-s2"]=this["webpackJsonpaudio-s2"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){"use strict";c.r(t);var n=c(7),i=c.n(n),s=c(1),l=c(5),a=c(2),r=c.p+"static/media/20210806_102244_222_radiohistory_ep0544.c5856041.mp3",o=c.p+"static/media/20210430_113621_533_radiohistory_ep0518.ca72e8b5.mp3",d=c.p+"static/media/20210424_105237_279_radiohistory_ep0517.b513b552.mp3",j=c.p+"static/media/20210424_105226_180_radiohistory_ep0516.8d1306e4.mp3",u=c.p+"static/media/radireki_thumbnail.264ebb1a.jpeg",b=[{src:r,date:"2021.08.10",title:"0544_\u30a4\u30b9\u30e9\u30e0\u6559\u306e\u516d\u4fe1\u4e94\u884c\u304b\u3089\u8003\u3048\u308b\u65e5\u672c\u4eba\u306b\u3068\u3063\u3066\u306e\u300c\u8056\u5178\u300d\u3068\u300c\u884c\u52d5\u898f\u7bc4\u300d",thumbnail:u,epiNum:"epi544",duration:1247,playing:!1},{src:o,date:"2021.05.11",title:"0518_\u4e2d\u56fd\u306e\u7b2c2\u4e09\u56fd\u5fd7\u3002\u667a\u52c7\u517c\u5099\u30fb\u97f3\u5bb9\u517c\u7f8e\u306e\u30a4\u30b1\u30e1\u30f3\u7687\u65cf\u862d\u9675\u738b\u306f\u4e0d\u6557\u306e\u540d\u5c06",thumbnail:u,epiNum:"epi518",duration:911,playing:!1},{src:d,date:"2021.05.07",title:"0517_\u300c\u591a\u6570\u6c7a\u304c\u6c11\u4e3b\u4e3b\u7fa9\u3067\u306f\u306a\u3044\u300d\u3068\u8aac\u3044\u305f\u30eb\u30bd\u30fc\u306e\u793e\u4f1a\u5951\u7d04\u8ad6",thumbnail:u,epiNum:"epi517",duration:952,playing:!1},{src:j,date:"2021.05.04",title:"0516_\u300c\u898b\u3048\u3056\u308b\u624b\u300d\u306b\u96a0\u3055\u308c\u305f\u30a2\u30c0\u30e0\u30fb\u30b9\u30df\u30b9\u306e\u7d4c\u6e08\u3078\u306e\u30a2\u30c4\u3044\u601d\u3044",thumbnail:u,epiNum:"epi516",duration:1115,playing:!1}],p=c(0),m=Object(s.createContext)({}),h=function(e){var t=e.children,c=Object(s.useRef)(null),n=Object(s.useState)(0),i=Object(a.a)(n,2),l=i[0],r=i[1],o=Object(s.useState)(!1),d=Object(a.a)(o,2),j=d[0],u=d[1];return Object(p.jsx)(m.Provider,{value:{intervalRef:c,trackIndex:l,setTrackIndex:r,isPlay:j,setIsPlay:u},children:t})},O=function(e){var t=e.tracks,c=e.setTracks,n=Object(s.useContext)(m),i=(n.intervalRef,n.trackIndex),r=n.setTrackIndex,o=n.isPlay,d=n.setIsPlay;console.log(t);var j=Object(s.useState)(t[i].playing),u=Object(a.a)(j,2),b=(u[0],u[1]),h=function(e){console.log(e.currentTarget.id);var n=Object(l.a)(t);n.splice(e.currentTarget.id,1),c(n)},O=function(e){if(console.log("\u30c8\u30e9\u30c3\u30afbutton\u30af\u30ea\u30c3\u30af"),o){console.log("isPlay-true"),d(!1),b(!1);var c=t[i];console.log("stop-track "+c),c.playing=!1}else{console.log("isPlay-false"),console.log("currentTarget-id="+e.currentTarget.id),r(e.currentTarget.id),d(!0),b(!0);var n=t[e.currentTarget.id];console.log("play track "+n),n.playing=!0}};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("ul",{className:"playlists",children:t.map((function(e,t){return Object(p.jsxs)("li",{className:"playlists-item",children:[Object(p.jsx)("h2",{className:"content-ttl",children:e.title}),Object(p.jsx)("div",{className:"content-inner2 content-info",children:Object(p.jsx)("span",{className:"date",children:e.date})}),Object(p.jsx)("div",{className:"content-listItem playBtn",onClick:O,id:t,children:!1===e.playing?Object(p.jsx)("span",{className:"material-icons ico-listen",children:"play_circle_outline"}):Object(p.jsx)("span",{children:"\u518d\u751f\u4e2d"})}),Object(p.jsxs)("div",{className:"content-listItem playBtn",onClick:h,id:t,children:[Object(p.jsx)("span",{className:"material-icons ico-listen",children:"delete"}),Object(p.jsx)("span",{className:"play-text listen",children:"\u524a\u9664"})]})]},t)}))})})},g=function(e){var t=e.tracks,c=Object(s.useContext)(m),n=c.intervalRef,i=c.trackIndex,l=c.setTrackIndex,r=c.isPlay,o=c.setIsPlay;Object(s.useEffect)((function(){l(0)}),[]),console.log(i);var d=t[i],j=d.title,u=d.date,b=d.duration,h=d.thumbnail,O=d.epiNum,g=t[i].src,x=Object(s.useRef)(new Audio(g)),f=x.current.currentTime,v=Math.floor(f/t[i].duration*100);console.log(v);var y=Object(s.useState)(0),_=Object(a.a)(y,2),k=_[0],N=_[1],T=[1,1.3,1.5,2,.5,.7],I=Object(s.useState)(0),C=Object(a.a)(I,2),w=C[0],S=C[1],P=Object(s.useState)(1),R=Object(a.a)(P,2),E=R[0],B=R[1],F=function(e){return Math.floor(e/60/60).toString().padStart(2,"0")+":"+Math.floor(e/60%60).toString().padStart(2,"0")+":"+Math.floor(e%60).toString().padStart(2,"0")};Object(s.useEffect)((function(){x.current=new Audio(g)}),[g]),Object(s.useEffect)((function(){if(r)x.current.play(),null===n.current&&(n.current=setInterval((function(){x.current.ended?(console.log("nextTrack\u5b9f\u884c"),X()):(N(x.current.currentTime),console.log(r),console.log(x.current.currentTime),console.log("\u518d\u751f\u30c8\u30e9\u30c3\u30af"+i))}),[1e3])),console.log("start");else{if(x.current.pause(),console.log("pause"),null===n.current)return;clearInterval(n.current),n.current=null}}),[r]);var M,A,J=Object(s.useRef)(null),X=function(){r&&(o(!1),console.log(r),i<t.length-1?(console.log("\u518d\u751f\u30c8\u30e9\u30c3\u30af"+i),l(Number(i)+1)):(l(0),console.log("\u6700\u521d\u306e\u30c8\u30e9\u30c3\u30af\u306b\u623b\u308b")),o(!0),console.log("\u6b21\u306e\u30c8\u30e9\u30c3\u30af"+i),console.log(r))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{id:"app",className:"app",children:[Object(p.jsxs)("div",{id:"audio_thumb",onClick:function(){o(!r),console.log(r)},children:[Object(p.jsx)("img",{className:"ep_img",src:h,width:"160",height:"160",alt:O}),r?Object(p.jsx)("i",{id:"pause_ico",className:"material-icons",children:"pause_circle_outline"}):Object(p.jsx)("i",{id:"play_ico",className:"material-icons",children:"play_circle_outline"})]}),Object(p.jsxs)("div",{id:"audio_desc",children:[Object(p.jsx)("div",{className:"ep-date",children:u}),Object(p.jsxs)("div",{className:"ep-title",children:[j,Object(p.jsx)("span",{className:"sp-nodisp"})]}),Object(p.jsx)("div",{id:"timebar",children:Object(p.jsx)("div",{id:"timebar-bg",onClick:function(e){M=e.target.getBoundingClientRect().width,A=e.nativeEvent.offsetX,console.log(e.target.getBoundingClientRect().width),console.log(e.nativeEvent.offsetX),x.current.currentTime=A/M*t[i].duration},ref:J,children:Object(p.jsx)("div",{id:"timebar-past",style:{width:v+"%"},children:Object(p.jsx)("div",{id:"timebar-num",children:v+"%"})})})}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{id:"time_disp",children:[F(k),"/",F(b)]}),Object(p.jsxs)("p",{className:"time_control_area",children:[Object(p.jsx)("span",{children:Object(p.jsx)("img",{id:"playback",src:"https://propo.fm/image/rewind.png",width:"23",alt:"rewind",onClick:function(){console.log("playback"),x.current.currentTime-=15}})}),Object(p.jsx)("span",{children:Object(p.jsx)("img",{id:"skip",src:"https://propo.fm/image/skip.png",width:"23",alt:"skip",onClick:function(){console.log("playskip"),x.current.currentTime+=30}})}),Object(p.jsxs)("span",{id:"speed_ctrl",onClick:function(){w===T.length-1?(S(0),B(E+1)):(S(w+1),E===T.length-1?B(0):B(E+1)),x.current.playbackRate=T[E],console.log(w),console.log(E+"next")},children:[T[w].toFixed(1),"x"]})]})]})]})]})})},x=function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),c=t[0],n=t[1];console.log(c);var i=Object(s.useContext)(m).trackIndex;console.log("trackIndex="+i);var r=function(e){var t=[].concat(Object(l.a)(c),[b[e.currentTarget.id]]);n(t),console.log(c),console.log(t)};return Object(s.useEffect)((function(){var e=setTimeout((function(){console.log(c)}),500);return function(){return clearTimeout(e)}})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("section",{className:"program",children:[Object(p.jsx)("h1",{children:"\u30e9\u30b8\u30ec\u30ad\u756a\u7d44\u4e00\u89a7"}),Object(p.jsx)("ul",{className:"allContents-list",children:b.map((function(e,t){return Object(p.jsxs)("li",{className:"contentItem episodeContent",children:[Object(p.jsx)("div",{className:"content-inner1",children:Object(p.jsx)("div",{className:"content-text",children:Object(p.jsx)("div",{className:"content-ttl-wrap",children:Object(p.jsx)("h2",{className:"content-ttl",children:e.title})})})}),Object(p.jsx)("div",{className:"content-listItem addBtn",onClick:r,id:t,children:Object(p.jsx)("span",{className:"play-text listen",children:"\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u306b\u8ffd\u52a0"})})]},e.epiNum)}))})]}),Object(p.jsxs)("section",{className:"playlist-sec",children:[Object(p.jsx)("h2",{children:"\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8"}),c.length>0?Object(p.jsx)(O,{tracks:c,setTracks:n}):Object(p.jsx)("p",{children:"\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u306f\u307e\u3060\u3042\u308a\u307e\u305b\u3093\u3002"})]}),c.length>0&&Object(p.jsx)(g,{tracks:c})]})},f=(c(13),function(){return Object(p.jsx)(h,{children:Object(p.jsx)(x,{})})});i.a.render(Object(p.jsx)(f,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.0973ac66.chunk.js.map