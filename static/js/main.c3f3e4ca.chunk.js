(this["webpackJsonpaudio-s2"]=this["webpackJsonpaudio-s2"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n=c(8),i=c.n(n),a=c(1),s=c(5),r=c(2),l=c.p+"static/media/20210806_102244_222_radiohistory_ep0544.c5856041.mp3",o=c.p+"static/media/20210430_113621_533_radiohistory_ep0518.ca72e8b5.mp3",d=c.p+"static/media/20210424_105237_279_radiohistory_ep0517.b513b552.mp3",j=c.p+"static/media/20210424_105226_180_radiohistory_ep0516.8d1306e4.mp3",u=c.p+"static/media/radireki_thumbnail.264ebb1a.jpeg",p=[{src:l,date:"2021.08.10",title:"0544_\u30a4\u30b9\u30e9\u30e0\u6559\u306e\u516d\u4fe1\u4e94\u884c\u304b\u3089\u8003\u3048\u308b\u65e5\u672c\u4eba\u306b\u3068\u3063\u3066\u306e\u300c\u8056\u5178\u300d\u3068\u300c\u884c\u52d5\u898f\u7bc4\u300d",thumbnail:u,epiNum:"epi544",duration:1247,playing:!1},{src:o,date:"2021.05.11",title:"0518_\u4e2d\u56fd\u306e\u7b2c2\u4e09\u56fd\u5fd7\u3002\u667a\u52c7\u517c\u5099\u30fb\u97f3\u5bb9\u517c\u7f8e\u306e\u30a4\u30b1\u30e1\u30f3\u7687\u65cf\u862d\u9675\u738b\u306f\u4e0d\u6557\u306e\u540d\u5c06",thumbnail:u,epiNum:"epi518",duration:911,playing:!1},{src:d,date:"2021.05.07",title:"0517_\u300c\u591a\u6570\u6c7a\u304c\u6c11\u4e3b\u4e3b\u7fa9\u3067\u306f\u306a\u3044\u300d\u3068\u8aac\u3044\u305f\u30eb\u30bd\u30fc\u306e\u793e\u4f1a\u5951\u7d04\u8ad6",thumbnail:u,epiNum:"epi517",duration:952,playing:!1},{src:j,date:"2021.05.04",title:"0516_\u300c\u898b\u3048\u3056\u308b\u624b\u300d\u306b\u96a0\u3055\u308c\u305f\u30a2\u30c0\u30e0\u30fb\u30b9\u30df\u30b9\u306e\u7d4c\u6e08\u3078\u306e\u30a2\u30c4\u3044\u601d\u3044",thumbnail:u,epiNum:"epi516",duration:1115,playing:!1}],b=c(7),m=c.n(b),h=c(9),O=c(0),x=Object(a.createContext)({}),f=function(e){var t=e.children,c=Object(a.useRef)(null),n=Object(a.useState)(0),i=Object(r.a)(n,2),s=i[0],l=i[1],o=Object(a.useState)(!1),d=Object(r.a)(o,2),j=d[0],u=d[1];return Object(O.jsx)(x.Provider,{value:{intervalRef:c,trackIndex:s,setTrackIndex:l,isPlay:j,setIsPlay:u},children:t})},g=function(e){var t=e.tracks,c=e.setTracks,n=Object(a.useContext)(x),i=n.trackIndex,r=n.setTrackIndex,l=n.isPlay,o=n.setIsPlay,d=function(e){var n=Object(s.a)(t);n.splice(e.currentTarget.id,1),c(n)},j=function(e){console.log("track\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af");var c=e.currentTarget.id;if(l)if(c!==i){var n=function(){var e=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){o(!1),setTimeout((function(){e(1)}),300),t[i].playing=!1}));case 2:t[c].playing=!0,console.log("\u6b21\u306e\u30c8\u30e9\u30c3\u30af: "+c),r(c),o(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}else{o(!1),t[i].playing=!1}else r(e.currentTarget.id),o(!0),t[e.currentTarget.id].playing=!0};return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("ul",{className:"playlists",children:t.map((function(e,t){return Object(O.jsxs)("li",{className:"playlists-item",children:[Object(O.jsx)("h2",{className:"content-ttl",children:e.title}),Object(O.jsx)("div",{className:"content-inner2 content-info",children:Object(O.jsx)("span",{className:"date",children:e.date})}),Object(O.jsx)("div",{className:"content-listItem playBtn",onClick:j,id:t,children:!1===e.playing?Object(O.jsx)("span",{className:"material-icons ico-listen",children:"play_circle_outline"}):Object(O.jsx)("span",{children:"\u518d\u751f\u4e2d"})}),Object(O.jsxs)("div",{className:"content-listItem playBtn",onClick:d,id:t,children:[Object(O.jsx)("span",{className:"material-icons ico-listen",children:"delete"}),Object(O.jsx)("span",{className:"play-text listen",children:"\u524a\u9664"})]})]},t)}))})})},y=function(e){var t=e.tracks,c=Object(a.useContext)(x),n=c.intervalRef,i=c.trackIndex,s=c.setTrackIndex,l=c.isPlay,o=c.setIsPlay;Object(a.useEffect)((function(){s(0)}),[]);var d=t[i],j=d.title,u=d.date,p=d.duration,b=d.thumbnail,m=d.epiNum,h=t[i].src,f=Object(a.useRef)(new Audio(h)),g=f.current.currentTime,y=Math.floor(g/t[i].duration*100),v=Object(a.useState)(0),k=Object(r.a)(v,2),_=k[0],N=k[1],I=[1,1.3,1.5,2,.5,.7],T=Object(a.useState)(0),w=Object(r.a)(T,2),C=w[0],S=w[1],P=Object(a.useState)(1),R=Object(r.a)(P,2),B=R[0],E=R[1],F=function(e){return Math.floor(e/60/60).toString().padStart(2,"0")+":"+Math.floor(e/60%60).toString().padStart(2,"0")+":"+Math.floor(e%60).toString().padStart(2,"0")};Object(a.useEffect)((function(){f.current=new Audio(h)}),[h]),Object(a.useEffect)((function(){if(l)f.current.play(),null===n.current&&(n.current=setInterval((function(){f.current.ended?(console.log("nextTrack\u5b9f\u884c "),X()):N(f.current.currentTime)}),[1e3])),console.log("track"+i+" start ");else{if(f.current.pause(),console.log("track"+i+" pause "),null===n.current)return;clearInterval(n.current),n.current=null}}),[l]);var M,A,J=Object(a.useRef)(null),X=function(){if(l){if(o(!1),t[i].playing=!1,i<t.length-1)s((function(e){return Number(e)+1})),t[i+1].playing=!0;else s(0),t[0].playing=!0;o(!0)}};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{id:"app",className:"app",children:[Object(O.jsxs)("div",{id:"audio_thumb",onClick:function(){l?(o(!l),t[i].playing=!1):(o(!l),t[i].playing=!0)},children:[Object(O.jsx)("img",{className:"ep_img",src:b,width:"160",height:"160",alt:m}),l?Object(O.jsx)("i",{id:"pause_ico",className:"material-icons",children:"pause_circle_outline"}):Object(O.jsx)("i",{id:"play_ico",className:"material-icons",children:"play_circle_outline"})]}),Object(O.jsxs)("div",{id:"audio_desc",children:[Object(O.jsx)("div",{className:"ep-date",children:u}),Object(O.jsxs)("div",{className:"ep-title",children:[j,Object(O.jsx)("span",{className:"sp-nodisp"})]}),Object(O.jsx)("div",{id:"timebar",children:Object(O.jsx)("div",{id:"timebar-bg",onClick:function(e){M=e.target.getBoundingClientRect().width,A=e.nativeEvent.offsetX,console.log("timeBar\u30af\u30ea\u30c3\u30af: "+A/M*t[i].duration),f.current.currentTime=A/M*t[i].duration},ref:J,children:Object(O.jsx)("div",{id:"timebar-past",style:{width:y+"%"},children:Object(O.jsx)("div",{id:"timebar-num",children:y+"%"})})})}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("span",{id:"time_disp",children:[F(_),"/",F(p)]}),Object(O.jsxs)("p",{className:"time_control_area",children:[Object(O.jsx)("span",{children:Object(O.jsx)("img",{id:"playback",src:"https://propo.fm/image/rewind.png",width:"23",alt:"rewind",onClick:function(){console.log("15s playback"),f.current.currentTime-=15}})}),Object(O.jsx)("span",{children:Object(O.jsx)("img",{id:"skip",src:"https://propo.fm/image/skip.png",width:"23",alt:"skip",onClick:function(){console.log("30s playskip"),f.current.currentTime+=30}})}),Object(O.jsxs)("span",{id:"speed_ctrl",onClick:function(){C===I.length-1?(S(0),E(B+1)):(S(C+1),B===I.length-1?E(0):E(B+1)),f.current.playbackRate=I[B],console.log(C),console.log(B+"next")},children:[I[C].toFixed(1),"x"]})]})]})]})]})})},v=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],i=(Object(a.useContext)(x).trackIndex,function(e){var t=[].concat(Object(s.a)(c),[p[e.currentTarget.id]]);n(t)});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("section",{className:"program",children:[Object(O.jsx)("h1",{children:"\u30e9\u30b8\u30ec\u30ad\u756a\u7d44\u4e00\u89a7"}),Object(O.jsx)("ul",{className:"allContents-list",children:p.map((function(e,t){return Object(O.jsxs)("li",{className:"contentItem episodeContent",children:[Object(O.jsx)("div",{className:"content-inner1",children:Object(O.jsx)("div",{className:"content-text",children:Object(O.jsx)("div",{className:"content-ttl-wrap",children:Object(O.jsx)("h2",{className:"content-ttl",children:e.title})})})}),Object(O.jsx)("div",{className:"content-listItem addBtn",onClick:i,id:t,children:Object(O.jsx)("span",{className:"play-text listen",children:"\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u306b\u8ffd\u52a0"})})]},e.epiNum)}))})]}),Object(O.jsxs)("section",{className:"playlist-sec",children:[Object(O.jsx)("h2",{children:"\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8"}),c.length>0?Object(O.jsx)(g,{tracks:c,setTracks:n}):Object(O.jsx)("p",{children:"\u30d7\u30ec\u30a4\u30ea\u30b9\u30c8\u306f\u307e\u3060\u3042\u308a\u307e\u305b\u3093\u3002"})]}),c.length>0&&Object(O.jsx)(y,{tracks:c})]})},k=(c(16),function(){return Object(O.jsx)(f,{children:Object(O.jsx)(v,{})})});i.a.render(Object(O.jsx)(k,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.c3f3e4ca.chunk.js.map