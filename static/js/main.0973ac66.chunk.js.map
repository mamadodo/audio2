{"version":3,"sources":["20210806_102244_222_radiohistory_ep0544.mp3","20210430_113621_533_radiohistory_ep0518.mp3","20210424_105237_279_radiohistory_ep0517.mp3","20210424_105226_180_radiohistory_ep0516.mp3","radireki_thumbnail.jpeg","components/programs.js","providers/TrackProvider.jsx","components/PlayList.jsx","components/AudioPlayer.jsx","components/ProgramList.jsx","App.js","index.js"],"names":["programs","src","episode1","date","title","thumbnail","episodeImg","epiNum","duration","playing","episode2","episode3","episode4","TrackContext","createContext","TrackProvider","props","children","intervalRef","useRef","useState","trackIndex","setTrackIndex","isPlay","setIsPlay","Provider","value","PlayList","tracks","setTracks","useContext","console","log","setIsPlayCurrent","onClickDeleteEpisode","e","currentTarget","id","newtracks","splice","onClickTrack","prevTrack","currentTrack","className","map","track","index","onClick","AudioPlayer","useEffect","trackSrc","musicRef","Audio","musicCurrentTime","current","currentTime","musicRate","Math","floor","timePosition","setTimePosition","speed","speedIndex","setSpeedIndex","speedNextIndex","setSpeedNextIndex","musicTime","time","toString","padStart","play","setInterval","ended","nextTrack","pause","clearInterval","timeBarWidth","timeBarX","timeBar","length","Number","width","height","alt","target","getBoundingClientRect","nativeEvent","offsetX","ref","style","playbackRate","toFixed","ProgramList","onClickAdd","newTracks","dTimer","setTimeout","clearTimeout","program","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0973ac66.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/20210806_102244_222_radiohistory_ep0544.c5856041.mp3\";","export default __webpack_public_path__ + \"static/media/20210430_113621_533_radiohistory_ep0518.ca72e8b5.mp3\";","export default __webpack_public_path__ + \"static/media/20210424_105237_279_radiohistory_ep0517.b513b552.mp3\";","export default __webpack_public_path__ + \"static/media/20210424_105226_180_radiohistory_ep0516.8d1306e4.mp3\";","export default __webpack_public_path__ + \"static/media/radireki_thumbnail.264ebb1a.jpeg\";","import episode1 from \"../20210806_102244_222_radiohistory_ep0544.mp3\";\nimport episode2 from \"../20210430_113621_533_radiohistory_ep0518.mp3\";\nimport episode3 from \"../20210424_105237_279_radiohistory_ep0517.mp3\";\nimport episode4 from \"../20210424_105226_180_radiohistory_ep0516.mp3\";\nimport episodeImg from \"../radireki_thumbnail.jpeg\";\n\nexport const programs = [\n  {\n    src: episode1,\n    date: \"2021.08.10\",\n    title: \"0544_イスラム教の六信五行から考える日本人にとっての「聖典」と「行動規範」\",\n    thumbnail: episodeImg,\n    epiNum: \"epi544\",\n    duration: 1247,\n    playing: false,\n  },\n  {\n    src: episode2,\n    date: \"2021.05.11\",\n    title: \"0518_中国の第2三国志。智勇兼備・音容兼美のイケメン皇族蘭陵王は不敗の名将\",\n    thumbnail: episodeImg,\n    epiNum: \"epi518\",\n    duration: 911,\n    playing: false,\n  },\n  {\n    src: episode3,\n    date: \"2021.05.07\",\n    title: \"0517_「多数決が民主主義ではない」と説いたルソーの社会契約論\",\n    thumbnail: episodeImg,\n    epiNum: \"epi517\",\n    duration: 952,\n    playing: false,\n  },\n  {\n    src: episode4,\n    date: \"2021.05.04\",\n    title: \"0516_「見えざる手」に隠されたアダム・スミスの経済へのアツい思い\",\n    thumbnail: episodeImg,\n    epiNum: \"epi516\",\n    duration: 1115,\n    playing: false,\n  }\n];\n","import React, { createContext, useState, useRef } from \"react\";\n\nexport const TrackContext = createContext({});\n\nexport const TrackProvider = (props) => {\n  const { children } = props;\n\n  const intervalRef = useRef(null);\n  const [trackIndex, setTrackIndex] = useState(0);\n  const [isPlay, setIsPlay] = useState(false); // playing state\n  // const [isPlayCurrent, setIsPlayCurrent] = useState(false);\n\n  return (\n    <TrackContext.Provider\n      value={{ \n        intervalRef,\n        trackIndex, \n        setTrackIndex,\n        isPlay,\n        setIsPlay,\n       }}>\n      {children}\n    </TrackContext.Provider>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport { TrackContext } from \"../providers/TrackProvider\";\n\n\nexport const PlayList = (props) => {\n  const { tracks, setTracks } = props;\n  const { intervalRef, trackIndex, setTrackIndex, isPlay, setIsPlay } = useContext(TrackContext);\n  console.log(tracks);\n\n  const [isPlayCurrent, setIsPlayCurrent] = useState(tracks[trackIndex].playing);\n\n  // delete playlist\n  const onClickDeleteEpisode = (e) => {\n    // console.log(index);\n    console.log(e.currentTarget.id);\n    const newtracks = [...tracks];\n    newtracks.splice(e.currentTarget.id, 1);\n    setTracks(newtracks);\n  }\n  \n  const onClickTrack = (e) => {\n    console.log(\"トラックbuttonクリック\");\n    if (isPlay) {\n      console.log(\"isPlay-true\");\n      setIsPlay(false); //pause\n      setIsPlayCurrent(false);\n      const prevTrack = tracks[trackIndex];\n      console.log('stop-track ' + prevTrack);\n      prevTrack.playing = false;\n      \n        // console.log('別トラック');\n        // const newTrackIndex = e.currentTarget.id\n        // setTrackIndex(newTrackIndex);\n        // changeTrack();\n        // // console.log('new TrackIndex = ' + trackIndex);\n        // setIsPlay(true);        \n    \n    } else {\n      console.log(\"isPlay-false\");\n      console.log('currentTarget-id=' + e.currentTarget.id);\n      setTrackIndex(e.currentTarget.id);\n      setIsPlay(true);\n      setIsPlayCurrent(true);\n      const currentTrack = tracks[e.currentTarget.id];\n      console.log('play track ' + currentTrack);\n      currentTrack.playing = true;\n    }\n  };\n\n  // const changeTrack = () => {\n  //   console.log('new trackIndex = ' + trackIndex);\n  //   setIsPlay(true);\n  // };\n\n\n  \n  return (\n    <>\n    <ul className=\"playlists\">\n    {tracks.map((track, index) => (\n\n      <li className=\"playlists-item\" key={index}>\n              <h2 className=\"content-ttl\">\n                {track.title}\n              </h2>\n        <div className=\"content-inner2 content-info\">\n          <span className=\"date\">{track.date}</span>\n          {/* <span> / </span>\n          <span className=\"time\">{musicTime(track.duration)}</span> */}\n        </div>\n        <div className=\"content-listItem playBtn\" onClick={onClickTrack} id={index}>\n          {track.playing === false ? \n              (<span className=\"material-icons ico-listen\">play_circle_outline</span>) :\n              (<span>再生中</span>)\n          }\n          {/* {isPlay? \n            (this === trackIndex?\n              (<span>再生中</span>) :\n              (<span className=\"material-icons ico-listen\">play_circle_outline</span>)\n          ) : (<span className=\"material-icons ico-listen\">play_circle_outline</span>)} */}\n        </div>\n        <div className=\"content-listItem playBtn\" onClick={onClickDeleteEpisode} id={index}>\n            <span className=\"material-icons ico-listen\">delete</span>\n            <span className=\"play-text listen\">削除</span>\n        </div>\n      </li>\n      ))}\n    </ul>\n    </>\n  );\n}\n\n","import React, { useEffect, useRef, useState, useContext  } from \"react\";\nimport { TrackContext } from \"../providers/TrackProvider\";\n\nexport const AudioPlayer = (props) => {\n  const { tracks } = props;\n  \n  // const intervalRef = useRef(null);\n  \n  // tracks\n  // const [trackIndex, setTrackIndex] = useState(0);\n  const { intervalRef, trackIndex, setTrackIndex, isPlay, setIsPlay } = useContext(TrackContext);\n  useEffect(() => {\n    setTrackIndex(0);\n  }, []);\n  console.log(trackIndex);\n  \n  \n  const { title, date, duration, thumbnail, epiNum } = tracks[trackIndex];\n  \n  const trackSrc = tracks[trackIndex].src;\n\n  const musicRef = useRef(new Audio(trackSrc));\n\n  const musicCurrentTime = musicRef.current.currentTime;\n  const musicRate = (Math.floor(musicCurrentTime / tracks[trackIndex].duration * 100));\n  console.log(musicRate);\n\n  // const [isPlay, setIsPlay] = useState(false); // playing state\n  // console.log('isPlay ' + isPlay);\n  const [timePosition, setTimePosition] = useState(0); // time position\n\n  const speed = [1.0, 1.3, 1.5, 2.0, 0.5, 0.7];\n  const [speedIndex, setSpeedIndex] = useState(0);\n  const [speedNextIndex, setSpeedNextIndex] = useState(1);\n  \n  const musicTime = (time) => {\n    let hour = (Math.floor(time / 60 / 60)).toString().padStart( 2, '0');\n    let minutes = (Math.floor((time / 60) % 60)).toString().padStart( 2, '0');\n    let sec = (Math.floor(time % 60)).toString().padStart( 2, '0');\n    let convertTime;\n    convertTime = hour + ':' + minutes + ':' + sec;\n    return convertTime;\n  }\n\n  const start = () => {\n    if (intervalRef.current !== null) {\n      return;\n    }\n    \n    intervalRef.current = setInterval(() => {\n      if (musicRef.current.ended) {\n        console.log('nextTrack実行');\n        nextTrack();\n      } else {\n      setTimePosition(musicRef.current.currentTime);\n      console.log(isPlay);\n      console.log(musicRef.current.currentTime);\n      console.log('再生トラック' + trackIndex);\n      }\n    }, [1000]);\n  };\n\n\n  useEffect(() => {\n    musicRef.current = new Audio(trackSrc);\n  }, [trackSrc]);\n\n  useEffect(() => {\n    if(isPlay) {\n      musicRef.current.play();\n      start();\n      console.log('start');\n    } else {\n      musicRef.current.pause();\n      console.log('pause');\n      if (intervalRef.current === null) {\n        return;\n      }\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, [isPlay]);\n\n  const timeBar = useRef(null);\n  let timeBarWidth;\n  let timeBarX;\n\n  // play button\n  const onClickTogglePlay = () => {\n    if (isPlay) {\n      setIsPlay(!isPlay);\n      console.log(isPlay);\n    } else {\n      setIsPlay(!isPlay);\n      console.log(isPlay);\n    }\n  }\n\n  // prev 15s\n  const onClickBack = () => {\n    console.log(\"playback\");\n    musicRef.current.currentTime -= 15;\n  }\n  \n  // next 30s\n  const onClickSkip = () => {\n    console.log(\"playskip\");\n    musicRef.current.currentTime += 30;\n  }\n\n\n  // timebar click\n  const onClickTime = (e) => {\n    timeBarWidth = e.target.getBoundingClientRect().width;\n    timeBarX = e.nativeEvent.offsetX;\n    console.log(e.target.getBoundingClientRect().width);\n    console.log(e.nativeEvent.offsetX);\n    musicRef.current.currentTime = (timeBarX / timeBarWidth * tracks[trackIndex].duration);\n  }\n\n  // speed change\n  const onClickChangeSpeed = () => {\n    if (speedIndex === speed.length - 1) {\n      setSpeedIndex(0);\n      setSpeedNextIndex(speedNextIndex + 1);\n    } else {\n      setSpeedIndex(speedIndex + 1);\n      if (speedNextIndex === speed.length - 1) {\n        setSpeedNextIndex(0);\n      } else {\n        setSpeedNextIndex(speedNextIndex + 1);\n      }\n    }\n    musicRef.current.playbackRate = speed[speedNextIndex];\n    console.log(speedIndex);\n    console.log(speedNextIndex + 'next');\n  }\n\n// next Track\n  const nextTrack = () => {\n    if(isPlay) {\n      setIsPlay(false);\n      console.log(isPlay);\n      if (trackIndex < tracks.length - 1) {\n        console.log( '再生トラック' + trackIndex);\n        setTrackIndex(Number(trackIndex) + 1); // 数値変換（なぜ？）\n      } else {\n        setTrackIndex(0);\n        console.log(\"最初のトラックに戻る\");\n      }\n      setIsPlay(true);\n      console.log(\"次のトラック\" + trackIndex);\n      console.log(isPlay);\n    }\n  };\n\n  return (\n    <>\n    <div id=\"app\" className=\"app\">\n    <div id=\"audio_thumb\" onClick={onClickTogglePlay}>\n      <img className=\"ep_img\" src={thumbnail} width=\"160\" height=\"160\" alt={epiNum} />\n\n      {isPlay? \n        (\n          <i id=\"pause_ico\" className=\"material-icons\">pause_circle_outline</i>\n        ) : (\n          <i id=\"play_ico\" className=\"material-icons\">play_circle_outline</i>\n        )\n      }\n\n    </div>\n    <div id=\"audio_desc\">\n      <div className=\"ep-date\">{date}</div>\n      <div className=\"ep-title\">\n        {title}<span className=\"sp-nodisp\"></span>\n      </div>\n      <div id=\"timebar\">\n        <div id=\"timebar-bg\" onClick={onClickTime} ref={timeBar}>\n          <div id=\"timebar-past\" style={{width: musicRate + '%'}}>\n            <div id=\"timebar-num\">{musicRate + '%'}</div>\n          </div>\n        </div>\n      </div>\n      <div>\n        <span id=\"time_disp\">\n        {musicTime(timePosition)}/\n        {musicTime(duration)}\n        </span>\n        <p className=\"time_control_area\">\n          <span>\n            <img \n              id=\"playback\" \n              src=\"https://propo.fm/image/rewind.png\" \n              width=\"23\" \n              alt=\"rewind\" \n              onClick={onClickBack}\n            />\n          </span>\n          <span>\n            <img \n              id=\"skip\" \n              src=\"https://propo.fm/image/skip.png\" \n              width=\"23\" \n              alt=\"skip\"\n              onClick={onClickSkip}\n            />\n          </span>\n          <span id=\"speed_ctrl\" onClick={onClickChangeSpeed}>{speed[speedIndex].toFixed(1)}x</span>\n        </p>\n      </div>\n    </div>\n    </div>\n\n\n  </>\n\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { programs } from \"./programs\";\nimport { PlayList } from \"./PlayList\";\nimport { AudioPlayer } from \"./AudioPlayer\";\nimport { TrackContext } from \"../providers/TrackProvider\";\n\n// import { onClickTracks } from \"./PlayList\";\n\nexport const ProgramList = () => {\n  const [tracks, setTracks] = useState([]);\n  console.log(tracks);\n  const {trackIndex} = useContext(TrackContext);\n  console.log('trackIndex=' + trackIndex);\n\n\n  // add playlist\n  const onClickAdd = (e) => {\n    const newTracks = [...tracks, programs[e.currentTarget.id]];\n    setTracks(newTracks);\n    console.log(tracks);\n    console.log(newTracks);\n  };\n\n            \n  useEffect(() => {\n    const dTimer = setTimeout(() => {\n      console.log(tracks);\n    }, 500);\n    return () => clearTimeout(dTimer);\n  },);\n\n  return (\n    <>\n    <section className=\"program\">\n    <h1>ラジレキ番組一覧</h1>\n    <ul className=\"allContents-list\">\n    {programs.map((program, index) => (\n\n      <li className=\"contentItem episodeContent\" key={program.epiNum}>\n        <div className=\"content-inner1\">\n          <div className=\"content-text\">\n            <div className=\"content-ttl-wrap\">\n              <h2 className=\"content-ttl\">\n                {program.title}\n              </h2>\n            </div>\n          </div>\n        </div>\n        <div className=\"content-listItem addBtn\" onClick={onClickAdd} id={index}>\n            {/* <span className=\"material-icons ico-listen\">play_circle_outline</span> */}\n            <span className=\"play-text listen\">プレイリストに追加</span>\n        </div>\n\n      </li>\n      ))}\n    </ul>\n    </section>\n    <section className=\"playlist-sec\">\n    <h2>プレイリスト</h2>\n    {tracks.length > 0 ?\n    <PlayList \n      tracks={tracks}\n      setTracks={setTracks}\n    />\n    : <p>プレイリストはまだありません。</p>\n    }\n    </section>\n    {tracks.length > 0 &&\n      <AudioPlayer\n        tracks={tracks}\n        \n       />\n    }\n\n\n  </>\n\n  );\n}\n","import React from \"react\";\nimport { ProgramList } from \"./components/ProgramList\";\nimport { TrackProvider } from \"./providers/TrackProvider\";\nimport \"./App.css\";\n\nexport const App = () => {\n\n  return (\n    <TrackProvider>\n      <ProgramList>\n\n      </ProgramList>\n    </TrackProvider>\n  );\n};\n","import ReactDOM from \"react-dom\";\n\nimport { App } from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}